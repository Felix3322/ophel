# 💬 会话管理

会话管理是 Ophel 的核心功能之一，为你的海量 AI 对话提供强大的组织、搜索和备份能力。

## 功能概览

<div class="tip custom-block">

**适用场景**

- 📂 整理大量历史对话
- 🔍 快速搜索特定话题
- 💾 备份重要对话内容
- 🔄 跨设备同步会话数据

</div>

## 增强侧边栏

### 无限滚动

原生 AI 平台的会话列表通常只显示最近的对话，Ophel 的增强侧边栏支持：

- ♾️ **无限滚动加载**：自动加载所有历史会话
- ⚡ **虚拟列表优化**：即使有成百上千条会话也流畅滚动
- 📊 **会话统计**：显示总会话数量

### 实时搜索

在搜索框输入关键词，即可实时过滤会话列表：

- 🔍 按标题搜索
- ⏱️ 搜索结果实时更新
- 🎯 高亮匹配关键词

## 分类与标签

### 标签系统

为会话添加自定义标签，实现灵活的分类管理：

```
💼 工作相关
├── [编程] React 组件设计讨论
├── [编程] API 接口设计方案
└── [文档] 产品需求分析

📚 学习笔记
├── [英语] 语法练习对话
└── [数学] 微积分概念解答
```

**标签功能：**

- ➕ 创建自定义标签
- 🎨 自动分配标签颜色
- 🏷️ 一个会话可添加多个标签
- 🔍 按标签筛选会话

### 彩色文件夹

使用彩色文件夹整理不同类型的会话：

- 🌈 提供 8 种彩虹配色
- 📂 拖拽会话到文件夹分组
- 🔍 按文件夹筛选会话

## 数据导出

### 单会话导出

选择任意会话，导出为多种格式：

#### Markdown (.md)

```markdown
# 对话标题

## 用户

如何在 React 中管理状态？

## AI

React 提供了多种状态管理方案...
```

#### JSON (.json)

```json
{
  "title": "对话标题",
  "created": "2024-01-15T10:00:00Z",
  "messages": [
    { "role": "user", "content": "..." },
    { "role": "assistant", "content": "..." }
  ]
}
```

#### 纯文本 (.txt)

```
对话标题
创建时间：2024-01-15

[用户]
如何在 React 中管理状态？

[AI]
React 提供了多种状态管理方案...
```

### 批量操作

- ☑️ 多选会话
- 📦 批量导出
- 🗑️ 批量删除
- 🏷️ 批量添加标签

## 同步与备份

### WebDAV 同步

支持通过 WebDAV 协议与云存储服务同步，包括：

- ☁️ **坚果云**（推荐国内用户）
- 🗄️ **Synology NAS**
- 📁 **Nextcloud**
- 🌐 任何支持 WebDAV 的服务

**配置步骤：**

1. 打开 设置 → 备份与同步
2. 输入 WebDAV 服务器地址
3. 填写用户名和密码
4. 点击「测试连接」验证
5. 设置自动同步间隔（可选）

### 本地备份

除了云同步，你也可以将数据导出到本地：

- 📥 **完整备份**：导出所有会话和设置
- 📂 **模块化导出**：仅导出会话/标签/文件夹

## 设置选项

| 选项     | 描述                      |  默认值  |
| -------- | ------------------------- | :------: |
| 默认排序 | 会话列表排序方式          | 最近使用 |
| 显示时间 | 是否显示会话创建/更新时间 |   开启   |
| 自动同步 | 是否启用 WebDAV 自动同步  |   关闭   |
| 同步间隔 | 自动同步的时间间隔        | 30 分钟  |

## 快捷键

| 快捷键             | 功能         |
| ------------------ | ------------ |
| `Ctrl + Shift + O` | 新建会话     |
| `Alt + Shift + R`  | 刷新会话列表 |
| `Alt + Shift + L`  | 定位当前会话 |
| `Alt + [`          | 上一个会话   |
| `Alt + ]`          | 下一个会话   |

::: tip 提示
会话数据存储在浏览器本地，清除浏览器数据可能导致会话丢失。建议定期备份重要数据。
:::
