# 🧠 智能大纲

智能大纲是 Ophel 的核心功能之一，它能自动解析 AI 对话内容，生成结构化的导航树，让你在长对话中自由穿梭，不再迷失。

## 功能概览

<div class="tip custom-block">

**适用场景**

- 📚 阅读长篇 AI 回复时快速定位章节
- 🔍 回顾历史对话时查找特定问题
- 📋 整理对话思路时把握整体结构

</div>

## 多层级导航

大纲会自动解析两类内容：

### 用户问题

每一条用户发送的消息都会作为大纲的一级节点，让你快速找到对话中的任何一个问题。

### 标题结构

AI 回复中的 Markdown 标题（H1-H6）会被解析为嵌套的子节点：

```
📝 用户问题：介绍一下 React 的核心概念
   ├── # React 简介
   │   ├── ## 什么是 React
   │   └── ## React 的特点
   ├── # 核心概念
   │   ├── ## 组件 (Components)
   │   ├── ## JSX
   │   ├── ## Props 和 State
   │   └── ## 生命周期
   └── # 总结
```

## 智能过滤

### 用户视角模式

开启「用户视角」后，大纲只显示用户问题，过滤掉所有 AI 回复的标题。适合快速回顾对话脉络：

- ✅ 聚焦于你提出的问题
- ✅ 快速定位特定话题
- ✅ 把握对话整体走向

### 一键复制

在大纲节点上点击复制图标，即可复制该条用户问题的原始文本，方便：

- 📋 复用到其他对话
- 📝 整理笔记时引用
- 🔄 重新向 AI 提问

## 智能跟随

### 当前位置高亮

当你在页面中滚动时，大纲会自动高亮当前阅读的章节，让你始终知道自己在对话中的位置。

### 平滑跳转

点击大纲中的任意节点，页面会平滑滚动到对应内容，快速精准：

- 🎯 精确定位到目标段落
- ✨ 平滑动画过渡
- 🔗 支持深链接（URL 锚点）

### 生成时锁定

当 AI 正在生成回复时，大纲会自动锁定到最新内容，让你实时跟踪生成进度。

## 深度整合

### Shadow DOM 解析

部分 AI 平台使用 Shadow DOM 封装页面结构，Ophel 能够穿透这些边界，正确解析内容生成大纲。

### 用户消息渲染

用户发送的 Markdown 格式消息会在大纲中进行渲染预览，让代码块、链接等内容更易读。

## 设置选项

在设置面板中，你可以自定义大纲的行为：

| 选项     | 描述                     | 默认值 |
| -------- | ------------------------ | :----: |
| 默认展开 | 大纲节点默认是否展开     |  开启  |
| 用户视角 | 默认是否启用用户视角模式 |  关闭  |
| 显示图标 | 是否显示节点类型图标     |  开启  |
| 面板位置 | 大纲面板在页面中的位置   |  右侧  |

## 快捷键

| 快捷键    | 功能          |
| --------- | ------------- |
| `Alt + R` | 刷新大纲      |
| `Alt + E` | 展开/折叠全部 |
| `Alt + Q` | 切换用户视角  |
| `Alt + L` | 定位大纲      |
| `Alt + F` | 搜索大纲      |
| `Alt + ↑` | 上一个标题    |
| `Alt + ↓` | 下一个标题    |

::: tip 提示
快捷键可以在设置中自定义，参见 [快捷键设置](/zh/guide/shortcuts)。
:::
