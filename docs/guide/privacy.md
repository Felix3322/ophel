# 🔒 隐私与数据

Ophel 秉持「隐私优先」的设计理念，所有数据默认存储在本地，你对数据拥有完全的掌控权。

## 本地优先

### 数据存储

所有数据默认存储在浏览器本地：

| 数据类型 | 存储位置 |
|----------|----------|
| 设置配置 | 浏览器 LocalStorage |
| 会话标签 | 浏览器 IndexedDB |
| 提示词 | 浏览器 IndexedDB |
| 自定义样式 | 浏览器 LocalStorage |

### 无远程服务

Ophel 不会：

- ❌ 上传任何数据到远程服务器
- ❌ 收集用户行为数据
- ❌ 追踪用户使用情况
- ❌ 与第三方共享任何信息

## 权限管理

### 权限说明

Ophel 遵循最小权限原则，仅请求必要的权限：

| 权限 | 用途 | 必需 |
|------|------|:----:|
| `storage` | 存储设置和数据 | ✅ |
| `activeTab` | 访问当前标签页 | ✅ |
| 特定站点访问 | 在 AI 平台上运行 | ✅ |
| `notifications` | 发送桌面通知 | ❌ |
| `<all_urls>` | WebDAV/水印移除 | ❌ |

### 权限管理面板

在设置中可以查看和管理权限：

1. 打开 设置 → 隐私与权限
2. 查看当前已授予的权限
3. 按需启用或禁用可选权限

### 可选权限

部分功能需要额外权限，默认关闭：

| 功能 | 所需权限 |
|------|----------|
| WebDAV 同步 | `<all_urls>` |
| 水印移除 | `<all_urls>` |
| 桌面通知 | `notifications` |

::: tip 按需授权
可选权限仅在你启用对应功能时才会请求，你可以随时在设置中撤销。
:::

## 数据同步

### WebDAV 同步

支持通过 WebDAV 协议同步数据：

**支持的服务：**

- ☁️ 坚果云（推荐国内用户）
- 🖥️ Synology NAS
- 📁 Nextcloud
- 🌐 任何 WebDAV 兼容服务

**同步内容：**

- ⚙️ 设置配置
- 🏷️ 会话标签和文件夹
- ⌨️ 提示词库
- 🎨 自定义样式
- 🔑 Claude Session Key（可选）

**安全措施：**

- 🔐 敏感数据加密存储
- 🔒 HTTPS 传输加密
- 🔑 凭据本地存储

### 手动备份

#### 完整备份

导出所有数据到单个 JSON 文件：

```json
{
  "version": "1.0",
  "exportTime": "2024-01-15T10:00:00Z",
  "settings": { ... },
  "prompts": [ ... ],
  "tags": [ ... ],
  "styles": [ ... ]
}
```

#### 模块化导出

按需导出特定模块：

- 📋 仅提示词
- ⚙️ 仅设置
- 🏷️ 仅标签和文件夹
- 🎨 仅自定义样式

## 数据清理

### 清除数据

在设置中可以清除 Ophel 存储的数据：

| 操作 | 影响 |
|------|------|
| 清除设置 | 恢复默认设置 |
| 清除缓存 | 清除临时数据 |
| 完全重置 | 删除所有数据 |

::: danger 警告
清除数据操作不可撤销，请确保已备份重要数据。
:::

## 安全建议

1. **定期备份**：建议每周至少备份一次重要数据
2. **谨慎授权**：仅在需要时授予可选权限
3. **保护凭据**：WebDAV 密码等敏感信息请妥善保管
4. **检查更新**：保持扩展更新以获取安全修复
